{
  "name": "book-automation",
  "version": "1.0.0",
  "description": "Professional eBook automation pipeline",
  "main": "index.js",
  "scripts": {
    "prepare": "husky install",
    "lint": "markdownlint 'chapters/*.md' '.claude/**/*.md' --fix",
    "lint:check": "markdownlint 'chapters/*.md' '.claude/**/*.md'",
    "wordcount": "PYTHONPATH=src:$PYTHONPATH python3 -m ebook_pipeline.utils.wordcount",
    "optimize:images": "sharp --input 'assets/images/*.{jpg,jpeg,png}' --output build/temp/images --resize 1600 1600 --withoutEnlargement --quality 85",
    "build:epub": "node scripts/build-epub.js",
    "validate:epub": "node scripts/validate-epub.js",
    "build:html": "node scripts/generate-html-only.js",
    "build:html:digital": "node scripts/generate-html-only.js --preset=digital",
    "build:pipeline": "node scripts/build-pipeline.js",
    "build": "npm run build:epub && npm run build:html",
    "clean": "rm -rf build/*",
    "test": "npm run lint:check && npm run wordcount",
    "test:unit": "jest",
    "test:agents": "jest tests/agents",
    "test:coverage": "jest --coverage",
    "test:watch": "jest --watch",
    "test:ci": "jest --ci --coverage --testResultsProcessor jest-junit",
    "claude": "node .claude/cli-headless.js",
    "claude:verify": ".claude/scripts/verify-env.sh",
    "claude:install-mcp": ".claude/scripts/install-complete-stack.sh",
    "claude:cache": "node .claude/scripts/cache-helpers.js",
    "claude:perf": "node .claude/scripts/performance-monitor.js",
    "claude:verify-deps": "node .claude/scripts/verify-dependencies.js",
    "verify": "npm run test && npm run claude:verify-deps",
    "writing-assistant": "./start-writing-assistant.sh",
    "wa": "./start-writing-assistant.sh",
    "publish:all": "node scripts/publish-book.js",
    "publish:kdp": "node scripts/publish-book.js -p kdp",
    "publish:apple": "node scripts/publish-book.js -p apple",
    "publish:google": "node scripts/publish-book.js -p google",
    "publish:dry-run": "node scripts/publish-book.js --dry-run",
    "grammar:server": "node scripts/grammar/languagetool-server.js",
    "grammar:server:start": "node scripts/grammar/languagetool-server.js start",
    "grammar:server:stop": "node scripts/grammar/languagetool-server.js stop",
    "grammar:server:status": "node scripts/grammar/languagetool-server.js status",
    "grammar:server:logs": "node scripts/grammar/languagetool-server.js logs",
    "grammar:check": "node scripts/grammar/check-grammar.js",
    "grammar:check:chapters": "node scripts/grammar/check-grammar.js 'chapters/*.md'",
    "grammar:report": "node scripts/grammar/check-grammar.js --report",
    "grammar:fix": "node scripts/grammar/check-grammar.js --fix",
    "grammar": "npm run grammar:server:start && npm run grammar:check:chapters",
    "money:research": "node scripts/research-topics.js",
    "money:generate": "node scripts/automation-pipeline.js",
    "money:batch": "node scripts/automation-pipeline.js 5",
    "money:content": "node scripts/generate-content.js",
    "money:cover": "node scripts/create-cover.js",
    "money:publish": "node scripts/publish-ebook.js",
    "money:pipeline": "npm run money:research && npm run money:generate",
    "money:bravo": "node scripts/orchestrator.js",
    "money:bravo:fast": "node scripts/orchestrator-fast.js",
    "money:bravo:queue": "node scripts/orchestrator-queue.js",
    "money:bravo:yaml": "node scripts/orchestrator-yaml.js",
    "money:bravo:review": "node scripts/orchestrator-with-review.js",
    "money:bravo:optimized": "node scripts/orchestrator-optimized.js",
    "money:bravo:watch": "node scripts/watch-dev.js",
    "money:bravo:validate": "node scripts/fast-validate.js",
    "money:bravo:pm2": "node agents/watchdog.js pm2-config && pm2 start ecosystem.config.js",
    "review:webhook": "node src/review/WebhookHandler.js",
    "review:webhook:pm2": "pm2 start src/review/WebhookHandler.js --name review-webhook",
    "monitoring:start": "./scripts/start-monitoring.sh",
    "monitoring:stop": "docker-compose down",
    "monitoring:logs": "docker-compose logs -f",
    "metrics:start": "node -e \"require('./src/monitoring/MetricsCollector').getMetricsCollector().start()\"",
    "backup:create": "node scripts/backup-manager.js create",
    "backup:restore": "node scripts/backup-manager.js restore",
    "backup:list": "node scripts/backup-manager.js list",
    "backup:auto": "node scripts/backup-scheduler.js",
    "check-env": "node scripts/check-env.js",
    "check:env": "npm run check-env",
    "verify-no-pdf": "node scripts/verify-no-pdf.js",
    "money:start": "npm run check-env && node scripts/automation-pipeline.js",
    "money:scan": "node scanners/trending-money-scanner.js",
    "money:test-research": "node -e \"require('./agents/deep-research')({topic:'AI business'}).then(console.log).catch(console.error)\"",
    "money:test": "npm run check-env && npm run money:scan && npm run money:test-research",
    "money:dry-run": "npm run check-env && node scripts/automation-pipeline.js --dry-run",
    "build:premium-ebook": "node scripts/build-premium-ebook-complete.js",
    "chat:server": "node scripts/chat-websocket-server.js",
    "chat:server:pm2": "pm2 start scripts/chat-websocket-server.js --name ebook-chat",
    "qa:html": "node qa/qa-html-mcp.js",
    "qa:html:report": "node qa/qa-html-mcp.js build/html-ebook/index.html",
    "test:regression": "node tests/test-no-regression.js",
    "test:pipeline": "./scripts/test-pipeline.sh",
    "verify:loop": "./scripts/verify-and-fix-loop.sh",
    "dashboard": "./dashboard/start-dashboard.sh",
    "dashboard:server": "node dashboard/server.js",
    "reader": "./reader/start-reader.sh",
    "reader:server": "node reader/server.js",
    "analytics": "./analytics/start-analytics.sh",
    "analytics:server": "node analytics/server.js",
    "analytics:demo": "DEMO_MODE=true node analytics/server.js",
    "control": "./control-panel/start-control-panel.sh",
    "control:server": "node control-panel/server.js",
    "control:demo": "DEMO_MODE=true ./control-panel/start-control-panel.sh",
    "template-builder": "./template-builder/start-builder.sh",
    "builder": "./template-builder/start-builder.sh",
    "pwa:setup": "node scripts/add-pwa-support.js",
    "pwa:icons": "node scripts/generate-pwa-icons.js",
    "pwa:serve": "npx serve --ssl --port 3000",
    "serve": "python3 -m http.server 3000"
  },
  "devDependencies": {
    "@types/jest": "^29.5.11",
    "jest": "^29.7.0",
    "jest-junit": "^16.0.0",
    "node-fetch": "^2.7.0",
    "nodemon": "^3.1.10"
  },
  "dependencies": {
    "@anthropic-ai/sdk": "^0.20.0",
    "@google/generative-ai": "^0.24.1",
    "archiver": "^6.0.1",
    "aws-sdk": "^2.1500.0",
    "axios": "^1.6.2",
    "bullmq": "^5.56.1",
    "chalk": "^5.3.0",
    "chokidar": "^3.6.0",
    "cli-table3": "^0.6.3",
    "commander": "^12.0.0",
    "dotenv": "^17.0.0",
    "express": "^4.18.2",
    "find-up": "^7.0.0",
    "fontmin": "^1.0.0",
    "form-data": "^4.0.0",
    "fs-extra": "^11.2.0",
    "glob": "^10.3.10",
    "googleapis": "^118.0.0",
    "highlight.js": "^11.11.1",
    "inquirer": "^8.2.5",
    "joi": "^17.11.0",
    "js-yaml": "^4.1.0",
    "lru-cache": "^7.18.3",
    "marked": "^15.0.12",
    "mdast-util-to-string": "^3.2.0",
    "ora": "^8.0.1",
    "pdf-parse": "^1.1.1",
    "prom-client": "^15.0.0",
    "redis": "^5.5.6",
    "rehype-autolink-headings": "^6.1.1",
    "rehype-highlight": "^6.0.0",
    "rehype-slug": "^5.1.0",
    "rehype-stringify": "^9.0.4",
    "remark-gfm": "^3.0.1",
    "remark-parse": "^10.0.2",
    "remark-rehype": "^10.1.0",
    "sharp": "^0.33.5",
    "sharp-cli": "^4.2.0",
    "socket.io-client": "^4.8.1",
    "tar": "^6.2.0",
    "unified": "^10.1.2",
    "xml2js": "^0.6.2",
    "xmlbuilder2": "^3.1.1",
    "yargs": "^17.7.2"
  },
  "engines": {
    "node": ">=20.0.0",
    "npm": ">=9.0.0"
  },
  "bin": {
    "claude": ".claude/cli-headless.js"
  }
}
