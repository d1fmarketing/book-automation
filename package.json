{
  "name": "book-automation",
  "version": "1.0.0",
  "description": "Professional eBook automation pipeline",
  "main": "index.js",
  "scripts": {
    "prepare": "husky install",
    "lint": "markdownlint 'chapters/*.md' '.claude/**/*.md' --fix",
    "lint:check": "markdownlint 'chapters/*.md' '.claude/**/*.md'",
    "wordcount": "PYTHONPATH=src:$PYTHONPATH python3 -m ebook_pipeline.utils.wordcount",
    "optimize:images": "sharp --input 'assets/images/*.{jpg,jpeg,png}' --output build/temp/images --resize 1600 1600 --withoutEnlargement --quality 85",
    "build:epub": "node scripts/build-epub.js",
    "validate:epub": "node scripts/validate-epub.js",
    "build:pdf": "node scripts/generate-pdf-unified.js --preset=professional",
    "build:pdf:clean": "node scripts/generate-pdf-unified.js --preset=clean",
    "build:pdf:colorful": "node scripts/generate-pdf-unified.js --preset=colorful",
    "build:pdf:full-page": "node scripts/generate-pdf-unified.js --preset=full-page",
    "build:pdf:professional": "node scripts/generate-pdf-unified.js --preset=professional",
    "build:pdf:readable": "node scripts/generate-pdf-unified.js --preset=readable",
    "build:pdf:digital": "node scripts/generate-pdf-unified.js --preset=digital",
    "build:pdf:digital-pro": "node scripts/generate-pdf-unified.js --preset=digital-pro",
    "build:pdf:digital-pro-fixed": "node scripts/generate-pdf-unified.js --preset=digital-pro-fixed",
    "build:pdf:adobe-fixed": "node scripts/generate-pdf-unified.js --preset=adobe-fixed",
    "build:html:digital": "node scripts/generate-html-only.js --preset=digital",
    "qa:dom:digital": "node scripts/test-digital-dom.js",
    "qa:debug:overflow": "node scripts/debug-specific-overflows.js",
    "build:pdf:preview": "node scripts/generate-pdf-with-preview.js --preset=main",
    "preview": "node scripts/generate-pdf-with-preview.js",
    "preview:hot": "node preview-system/pdf-preview-generator-hotreload.js",
    "preview:monitor": "node .claude/scripts/preview-pipeline-integration.js",
    "build:pdf:all": "npm run build:pdf && npm run build:pdf:clean && npm run build:pdf:colorful && npm run build:pdf:full-page && npm run build:pdf:professional && npm run build:pdf:readable",
    "build:pipeline": "node scripts/build-pipeline.js",
    "build": "npm run build:epub && npm run build:pdf",
    "clean": "rm -rf build/*",
    "test": "npm run lint:check && npm run wordcount",
    "test:unit": "jest",
    "test:agents": "jest tests/agents",
    "test:coverage": "jest --coverage",
    "test:watch": "jest --watch",
    "test:ci": "jest --ci --coverage --testResultsProcessor jest-junit",
    "qa": "node scripts/qa-agent.js build/dist/tdah-descomplicado-commercial.pdf",
    "qa:watch": "npm run build:pdf && npm run qa",
    "claude": "node .claude/cli-headless.js",
    "claude:verify": ".claude/scripts/verify-env.sh",
    "claude:install-mcp": ".claude/scripts/install-complete-stack.sh",
    "claude:cache": "node .claude/scripts/cache-helpers.js",
    "claude:perf": "node .claude/scripts/performance-monitor.js",
    "claude:verify-deps": "node .claude/scripts/verify-dependencies.js",
    "verify": "npm run test && npm run claude:verify-deps",
    "writing-assistant": "./start-writing-assistant.sh",
    "wa": "./start-writing-assistant.sh",
    "publish:all": "node scripts/publish-book.js",
    "publish:kdp": "node scripts/publish-book.js -p kdp",
    "publish:apple": "node scripts/publish-book.js -p apple",
    "publish:google": "node scripts/publish-book.js -p google",
    "publish:dry-run": "node scripts/publish-book.js --dry-run",
    "grammar:server": "node scripts/grammar/languagetool-server.js",
    "grammar:server:start": "node scripts/grammar/languagetool-server.js start",
    "grammar:server:stop": "node scripts/grammar/languagetool-server.js stop",
    "grammar:server:status": "node scripts/grammar/languagetool-server.js status",
    "grammar:server:logs": "node scripts/grammar/languagetool-server.js logs",
    "grammar:check": "node scripts/grammar/check-grammar.js",
    "grammar:check:chapters": "node scripts/grammar/check-grammar.js 'chapters/*.md'",
    "grammar:report": "node scripts/grammar/check-grammar.js --report",
    "grammar:fix": "node scripts/grammar/check-grammar.js --fix",
    "grammar": "npm run grammar:server:start && npm run grammar:check:chapters",
    "money:research": "node scripts/research-topics.js",
    "money:generate": "node scripts/automation-pipeline.js",
    "money:batch": "node scripts/automation-pipeline.js 5",
    "money:content": "node scripts/generate-content.js",
    "money:cover": "node scripts/create-cover.js",
    "money:publish": "node scripts/publish-ebook.js",
    "money:pipeline": "npm run money:research && npm run money:generate",
    "check-env": "node scripts/check-env.js",
    "money:start": "npm run check-env && node scripts/automation-pipeline.js",
    "money:scan": "node scanners/trending-money-scanner.js",
    "money:test-research": "node -e \"require('./agents/deep-research')({topic:'AI business'}).then(console.log).catch(console.error)\"",
    "money:test": "npm run check-env && npm run money:scan && npm run money:test-research",
    "money:dry-run": "npm run check-env && node scripts/automation-pipeline.js --dry-run",
    "build:premium-ebook": "node scripts/build-premium-ebook-complete.js",
    "chat:server": "node scripts/chat-websocket-server.js",
    "chat:server:pm2": "pm2 start scripts/chat-websocket-server.js --name ebook-chat",
    "qa:html": "node qa/qa-html-mcp.js",
    "qa:html:report": "node qa/qa-html-mcp.js build/html-ebook/index.html",
    "dashboard": "./dashboard/start-dashboard.sh",
    "dashboard:server": "node dashboard/server.js",
    "reader": "./reader/start-reader.sh",
    "reader:server": "node reader/server.js",
    "analytics": "./analytics/start-analytics.sh",
    "analytics:server": "node analytics/server.js",
    "analytics:demo": "DEMO_MODE=true node analytics/server.js",
    "control": "./control-panel/start-control-panel.sh",
    "control:server": "node control-panel/server.js",
    "control:demo": "DEMO_MODE=true ./control-panel/start-control-panel.sh",
    "template-builder": "./template-builder/start-builder.sh",
    "builder": "./template-builder/start-builder.sh",
    "pwa:setup": "node scripts/add-pwa-support.js",
    "pwa:icons": "node scripts/generate-pwa-icons.js",
    "pwa:serve": "npx serve --ssl --port 3000",
    "serve": "python3 -m http.server 3000"
  },
  "devDependencies": {
    "@types/jest": "^29.5.11",
    "jest": "^29.7.0",
    "jest-junit": "^16.0.0",
    "node-fetch": "^2.7.0"
  },
  "dependencies": {
    "@anthropic-ai/sdk": "^0.20.0",
    "archiver": "^6.0.1",
    "axios": "^1.6.2",
    "chalk": "^5.3.0",
    "commander": "^12.0.0",
    "dotenv": "^17.0.0",
    "find-up": "^7.0.0",
    "fontmin": "^1.0.0",
    "form-data": "^4.0.0",
    "fs-extra": "^11.2.0",
    "glob": "^10.3.10",
    "googleapis": "^118.0.0",
    "js-yaml": "^4.1.0",
    "marked": "^15.0.12",
    "ora": "^8.0.1",
    "pdf-parse": "^1.1.1",
    "redis": "^5.5.6",
    "sharp": "^0.33.5",
    "sharp-cli": "^4.2.0",
    "xml2js": "^0.6.2",
    "xmlbuilder2": "^3.1.1",
    "yargs": "^17.7.2"
  },
  "engines": {
    "node": ">=20.0.0",
    "npm": ">=9.0.0"
  },
  "bin": {
    "claude": ".claude/cli-headless.js"
  }
}
